[![Build Status](https://travis-ci.org/steve-perkins/fitnessjiffy-etl.svg?branch=master)](https://travis-ci.org/steve-perkins/fitnessjiffy-etl)

fitnessjiffy-etl
================

Utilities for importing, exporting, and migrating data between different versions of the
FitnessJiffy demo application.  SQLite, H2, and PostgreSQL databases are currently supported.

The codebase includes "reader" classes for all supported databases, which load the entire
database into a neutral JSON backup format.  There are also "writer" classes for all
supported databases, which import that JSON data into an empty database, creating all of
the necessary tables if they don't already exist.

This project artifact can be included within a Java-based version of the FitnessJiff application,
to provide backup/restore functionality within the app.  It can also be used on its own, though
the "Migrate" command-line application class, to backup/restore a database or migrate between
different database versions.

Note About Dependencies
----------------

The Maven artifact generated by this project includes these dependencies:

* JDBC drivers for all supported databases
* Jackson JSON parser
* Commons CLI for the command-line "Migrate" tool

When including this artifact within a FitnessJiffy application, you probably want to exclude
any unused database drivers, as well as Commons CLI.  You will need to keep Jackson for any
import/export functionality.

```XML
...
<dependency>
    <!-- https://github.com/steve-perkins/fitnessjiffy-etl -->
    <groupId>net.steveperkins</groupId>
    <artifactId>fitnessjiffy-etl</artifactId>
    <version>1.4.0-SNAPSHOT</version>
    <exclusions>
        <exclusion>
            <groupId>org.xerial</groupId>
            <artifactId>sqlite-jdbc</artifactId>
        </exclusion>
        <exclusion>
            <groupId>com.h2database</groupId>
            <artifactId>h2</artifactId>
        </exclusion>
        <exclusion>
            <groupId>commons-cli</groupId>
            <artifactId>commons-cli</artifactId>
        </exclusion>
    </exclusions>
</dependency>
...
```
